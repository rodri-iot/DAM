<ion-header>
  <ion-toolbar>
    <ion-title>{{ dispositivo.nombre }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Ubicación</ion-card-title>
      <ion-card-subtitle>{{ dispositivo.ubicacion }}</ion-card-subtitle>
    </ion-card-header>
  </ion-card>

  <div class="acciones">
    <ion-button expand="block" color="success" (click)="cambiarEstadoValvula(true)">
      Abrir Válvula
    </ion-button>
    <ion-button expand="block" color="danger" (click)="cambiarEstadoValvula(false)">
      Cerrar Válvula
    </ion-button>
    <ion-button expand="block" (click)="verMediciones()">
      Ver Mediciones
    </ion-button>    
  </div>

  <div *ngIf="ultimaMedicion">
    <h2>Última Medición</h2>
    <p>Humedad: {{ ultimaMedicion.valor }}%</p>
  </div>
  <div *ngIf="!ultimaMedicion">
    <p>No hay mediciones disponibles para este dispositivo.</p>

    <pre>{{ ultimaMedicion | json }}</pre>

  </div>

</ion-content>


